{"properties":{},"description":"","processes":{"sapvoraclient1":{"component":"com.sap.vora.client","metadata":{"label":"SAP Vora Client","x":352,"y":132,"height":80,"width":120,"config":{"dsn":"v2://dqp:50000/?binary=true"}}},"javascriptoperator1":{"component":"com.sap.system.jsengine","metadata":{"label":"JavaScript Operator","x":184,"y":132,"height":80,"width":120,"extensible":true,"config":{"script":"var counter = 0;\n\n$.setPortCallback(\"input\",onInput);\n\nfunction onInput(ctx,s) {\n    $.output(\"select \\\"_MessageGateway_TimeISO8601\\\" ,\\\"value\\\".\\\"speed\\\",  \\\"value\\\".\\\"battery\\\", \\\"value\\\".\\\"rank\\\", \\\"value\\\".\\\"user\\\"   from \\\"VORA\\\".\\\"car_telemetry_collection\\\" where \\\"deviceType\\\"='AnkiCar'  \"+\n\"and \\\"param\\\"='status' \" +\n\"and \\\"_MessageGateway_TimeISO8601\\\" IS NOT MISSING limit 1000\"\n        );\n}"}}},"constantgenerator1":{"component":"com.sap.util.constantGenerator","metadata":{"label":"Constant Generator","x":16,"y":132,"height":80,"width":120,"extensible":true,"config":{"mode":"pulse","duration":"2s"}}},"javascriptoperator2":{"component":"com.sap.system.jsengine","metadata":{"label":"JavaScript Operator","x":703.9999990463257,"y":252,"height":80,"width":120,"extensible":true,"config":{"script":"$.setPortCallback(\"input\",onInput);\n\nfunction onInput(ctx,s) {\n    //$.output(s);\n\n    try {\n        var r = JSON.parse(s);\n    } catch(e) {\n        // fail silently on invalid JSON string\n        return;\n    }\n    if(!r.Success)\n        return;\n    if(r.Data === null)\n        return;\n    \n    var out = \"\";\n    for(var i = 0; i < r.Data.length; ++i) {\n        var row = r.Data[i];\n       // for(var col in row){\n           \n  //\\\"value\\\".\\\"speed\\\",  \\\"value\\\".\\\"battery\\\", \\\"value\\\".\\\"rank\\\", \\\"value\\\".\\\"user\\\" \n            out += row['value.speed'] + \", \" +row['value.battery'] +\", \"+row['value.rank'] +\", \"+row['value.user'] ;\n      //  }\n        out += \"\\n\";\n    }\n    $.output(out);\n    \n}"}}},"hdfsproducer1":{"component":"com.sap.storage.hdfs.producer","metadata":{"label":"HDFS Producer","x":1071.999997138977,"y":132,"height":80,"width":120,"config":{"path":"/car_telemetrydata/StructuredTelemetryDataExtract2.csv","hadoopNamenode":"spark-hdfs-adapter:8020","append":false}}},"tomessageconverter1":{"component":"com.sap.util.toMessageConverter","metadata":{"label":"ToMessage Converter","x":887.9999980926514,"y":192,"height":80,"width":120,"config":{}}},"graphterminator1":{"component":"com.sap.util.graphTerminator","metadata":{"label":"Graph Terminator","x":1239.999997138977,"y":132,"height":80,"width":120,"config":{}}},"tomessageconverter2":{"component":"com.sap.util.toMessageConverter","metadata":{"label":"ToMessage Converter","x":703.9999990463257,"y":132,"height":80,"width":120,"config":{}}},"hdfsproducer2":{"component":"com.sap.storage.hdfs.producer","metadata":{"label":"HDFS Producer","x":887.9999980926514,"y":72,"height":80,"width":120,"config":{"hadoopNamenode":"spark-hdfs-adapter:8020","path":"/car_telemetrydata/StructuredTelemetryDataExtractDebug2.csv","append":false}}},"13multiplexer1":{"component":"com.sap.system.multiplexer.1-3","metadata":{"label":"1:3 Multiplexer","x":520,"y":132,"height":80,"width":120,"extensible":true,"config":{}}},"terminal1":{"component":"com.sap.util.terminal","metadata":{"label":"Terminal","x":703.9999990463257,"y":12,"height":80,"width":120,"ui":"dynpath","config":{}}}},"groups":[],"connections":[{"metadata":{"points":"308,172 348,172"},"src":{"port":"output","process":"javascriptoperator1"},"tgt":{"port":"insql","process":"sapvoraclient1"}},{"metadata":{"points":"140,172 180,172"},"src":{"port":"out","process":"constantgenerator1"},"tgt":{"port":"input","process":"javascriptoperator1"}},{"metadata":{"points":"1011.9999980926514,232 1039.9999976158142,232 1039.9999976158142,172 1067.999997138977,172"},"src":{"port":"out","process":"tomessageconverter1"},"tgt":{"port":"inFile","process":"hdfsproducer1"}},{"metadata":{"points":"1195.999997138977,172 1235.999997138977,172"},"src":{"port":"outFilename","process":"hdfsproducer1"},"tgt":{"port":"stop","process":"graphterminator1"}},{"metadata":{"points":"827.9999990463257,292 855.9999985694885,292 855.9999985694885,223 883.9999980926514,223"},"src":{"port":"output","process":"javascriptoperator2"},"tgt":{"port":"inbody","process":"tomessageconverter1"}},{"metadata":{"points":"827.9999990463257,172 855.9999985694885,172 855.9999985694885,112 883.9999980926514,112"},"src":{"port":"out","process":"tomessageconverter2"},"tgt":{"port":"inFile","process":"hdfsproducer2"}},{"metadata":{"points":"476,172 516,172"},"src":{"port":"outresult","process":"sapvoraclient1"},"tgt":{"port":"in1","process":"13multiplexer1"}},{"metadata":{"points":"644,190 671.9999995231628,190 671.9999995231628,292 699.9999990463257,292"},"src":{"port":"out3","process":"13multiplexer1"},"tgt":{"port":"input","process":"javascriptoperator2"}},{"metadata":{"points":"644,172 671.9999995231628,172 671.9999995231628,163 699.9999990463257,163"},"src":{"port":"out2","process":"13multiplexer1"},"tgt":{"port":"inbody","process":"tomessageconverter2"}},{"metadata":{"points":"644,154 671.9999995231628,154 671.9999995231628,52 699.9999990463257,52"},"src":{"port":"out1","process":"13multiplexer1"},"tgt":{"port":"in1","process":"terminal1"}}],"inports":{},"outports":{}}